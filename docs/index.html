<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="metaTitle">AI Summary Helper</title>
    <meta id="metaDescription" name="description" content="AI Summary Helper enhances your browsing experience.">
    <link rel="stylesheet" href="style.css">

    <!-- hreflang tags -->
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=en" hreflang="en">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=es" hreflang="es">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=de" hreflang="de">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=fr" hreflang="fr">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=it" hreflang="it">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=pt" hreflang="pt">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=nl" hreflang="nl">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=jp" hreflang="jp">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=cn" hreflang="cn">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=ru" hreflang="ru">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=kr" hreflang="kr">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=ar" hreflang="ar">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=ua" hreflang="ua">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=pl" hreflang="pl">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=ind" hreflang="ind">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=th" hreflang="th">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=sv" hreflang="sv">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=da" hreflang="da">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=no" hreflang="no">
    <link rel="alternate" href="https://philffm.github.io/ai-summary-helper/?lang=id" hreflang="id">
     

    <meta name="google-site-verification" content="_QcmSOybAqnxQ1YH95ay00G4LZgwxLg-1Pb50QBpI2c" />
    <meta name="robots" content="follow, index">

    <script>
        async function loadContent(lang = 'en') {
            try {
                let data;
                if (lang === 'en') {
                    const response = await fetch('translations.json');
                    if (!response.ok) {
                        throw new Error('Failed to load default content');
                    }
                    const translations = await response.json();
                    data = translations.content;
                } else {
                    const response = await fetch(`lang/${lang}.json`);
                    if (!response.ok) {
                        throw new Error(`Failed to load language file: ${lang}`);
                    }
                    data = await response.json();
                }

                document.getElementById('metaTitle').textContent = data.title;
                document.getElementById('metaDescription').setAttribute('content', data.aboutText);

                document.getElementById('title').textContent = data.title;
                document.getElementById('aboutText').textContent = data.aboutText;

                const featureList = document.getElementById('featureList');
                featureList.innerHTML = data.featureList.map(item => `
                    <div class="feature-card">
                        ${item}
                    </div>
                `).join('');

                document.getElementById('proposeFeature').textContent = data.proposeFeature;
                document.getElementById('proposeFeatureText').textContent = data.proposeFeatureText;
                document.getElementById('privacyNote').textContent = data.privacyNote;
                document.getElementById('privacyNoteText').textContent = data.privacyNoteText;
                document.getElementById('funMessage').textContent = data.funMessage;

                const changelogList = document.getElementById('changelogList');
                changelogList.innerHTML = data.changelogList.map(item => `<li>${item}</li>`).join('');

                document.getElementById('aboutCreator').textContent = data.aboutCreator;
                document.getElementById('creatorText').textContent = data.creatorText;

                document.getElementById('changelog').textContent = data.changelog;
                document.getElementById('whyHelper').textContent = data.whyHelper;
                document.getElementById('whyHelperList').textContent = data.whyHelperList;
                

                const whyHelperList = document.getElementById('whyHelperList');
                whyHelperList.innerHTML = data.whyHelperList.map(item => `<li>${item}</li>`).join('');

                document.getElementById('getStarted').textContent = data.getStarted;
                document.getElementById('getStartedText').textContent = data.getStartedText;
                document.getElementById('feedbackSupport').textContent = data.feedbackSupport;
                document.getElementById('feedbackSupportText').textContent = data.feedbackSupportText;

            } catch (error) {
                console.error('Error loading content:', error);
            }
        }

        async function createLanguageButtons() {
            try {
                const response = await fetch('translations.json');
                const translations = await response.json();
                const languageSection = document.querySelector('.language-section');

                // Always add the English button
                const englishButton = document.createElement('button');
                englishButton.textContent = '🇬🇧 English';
                englishButton.onclick = () => changeLanguage('en');
                languageSection.appendChild(englishButton);

                // Create buttons for all languages listed in translations.json
                for (const lang of translations.languages) {
                    if (lang.code === 'en') continue; // Skip English as it's already added

                    const button = document.createElement('button');
                    button.textContent = `${lang.emoji} ${lang.name}`;
                    button.onclick = () => changeLanguage(lang.code);
                    languageSection.appendChild(button);
                }
            } catch (error) {
                console.error('Error creating language buttons:', error);
            }
        }

        function changeLanguage(lang) {
            loadContent(lang);
            const url = new URL(window.location);
            url.searchParams.set('lang', lang);
            window.history.pushState({}, '', url);
        }

        window.onload = () => {
            const urlParams = new URLSearchParams(window.location.search);
            const lang = urlParams.get('lang') || 'en';
            loadContent(lang);
            createLanguageButtons();
        };

        document.addEventListener("DOMContentLoaded", function() {
            const container = document.querySelector('.feature-cards-container');
            const cards = container.querySelectorAll('.feature-card');
            let scrollAmount = 0;
            const scrollStep = 1; // Adjust this value to control the speed
            const scrollInterval = 20; // Adjust this value to control the smoothness

            function autoScroll() {
                scrollAmount += scrollStep;
                container.scrollLeft = scrollAmount;

                if (scrollAmount >= container.scrollWidth - container.clientWidth) {
                    scrollAmount = 0; // Reset to start scrolling from the beginning
                }

                resizeCards();
            }

            function resizeCards() {
                const containerCenter = container.clientWidth / 2;
                cards.forEach(card => {
                    const cardRect = card.getBoundingClientRect();
                    const cardCenter = cardRect.left + cardRect.width / 2;
                    const distanceFromCenter = Math.abs(containerCenter - cardCenter);
                    const scale = Math.max(1, 1.5 - distanceFromCenter / containerCenter);
                    card.style.transition = 'transform 0.3s ease';
                    card.style.transform = `scale(${scale})`;
                });
            }

            setInterval(autoScroll, scrollInterval);

            const languageMenuButton = document.getElementById('languageMenuButton');
            const languageMenu = document.getElementById('languageMenu');

            languageMenuButton.addEventListener('click', () => {
                languageMenu.classList.toggle('show');
            });

            // Fetch languages from a JSON file or define them directly
            fetch('translations.json')
                .then(response => response.json())
                .then(data => {
                    const languages = data.languages; // Assuming the JSON structure has a 'languages' array

                    languages.forEach(lang => {
                        const button = document.createElement('button');
                        button.textContent = `${lang.emoji} ${lang.name}`;
                        button.onclick = () => {
                            changeLanguage(lang.code);
                            languageMenuButton.textContent = `${lang.emoji} ${lang.name}`;
                            languageMenu.classList.remove('show');
                        };
                        languageMenu.appendChild(button);
                    });
                })
                .catch(error => console.error('Error loading languages:', error));
        });
    </script>
</head>
<body>
    <div class="window-frame">
        <div class="window-title-bar">
            <img src="icon.svg" alt="AI Summary Helper Icon" style="width: 32px; height: 32px;">
            <div style="display: flex; flex-direction: row; align-items: center; gap: 12px;">
                <h1 id="title" class="window-title">AI Summary Helper</h1>
                <button id="languageMenuButton" class="buttonIcon">🌍 Language</button>
            </div>
            <div class="window-controls">
                <button class="window-button minimize">_</button>
                <button class="window-button maximize">□</button>
                <button class="window-button close">X</button>
            </div>
        </div>
        <div id="languageMenu" class="language-menu hidden">
            <!-- Language options will be dynamically inserted here -->
        </div>
        <section id="features-section">
            <div id="featureList" class="feature-cards-container">
                <!-- Feature cards will be dynamically inserted here -->
            </div>
        </section>
        <div class="window-content">
            <header>
                <img src="aish.png" alt="AI Summary Helper Preview" style="max-width: 100%;">
                <p id="aboutText"></p>
                <a class="primary-option" target="_blank" href="https://philwornath.gumroad.com/l/ai-summary-helper">Get it on Gumroad</a>
                <a class="secondary-option" target="_blank" href="https://chrome.google.com/webstore/detail/ai-summary-helper-summari/hldbejcjaedipeegjcinmhejdndchkmb">Chrome Web Store</a>
                <a class="secondary-option" target="_blank" href="https://philffm.github.io/ai-summary-helper/bookmarklet-generator/">Bookmarklet Generator</a>
            </header>
            <main>


                <section>
                    <h2 id="proposeFeature"></h2>
                    <p id="proposeFeatureText"></p>
                </section>
                <section>
                    <h2 id="privacyNote"></h2>
                    <p id="privacyNoteText"></p>
                </section>
                <section>
                    <p id="funMessage"></p>
                </section>
                <section>
                    <h2 id="changelog">Changelog</h2>
                    <ul id="changelogList"></ul>
                </section>
                <section>
                    <h2 id="aboutCreator"></h2>
                    <p id="creatorText"></p>
                </section>
                <section>
                    <h2 id="whyHelper"></h2>
                    <ul id="whyHelperList"></ul>
                </section>
                <section>
                    <h2 id="getStarted"></h2>
                    <p id="getStartedText"></p>
                </section>
                <section>
                    <h2 id="feedbackSupport"></h2>
                    <p id="feedbackSupportText"></p>
                </section>
            </main>
            <footer>
                <p>&copy; 2024 Phil Wornath. All rights reserved. Visit the project at <a href="https://github.com/philffm/ai-summary-helper/">AI Summary Helper</a>.</p>
            </footer>
        </div>
    </div>
</body>
</html>